<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>SimulaMed – Casos Clínicos Interativos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --azul: #147bb7;
      --azul-claro: #eaf9ff;
      --bege: #fcf7e8;
      --verde: #37b97a;
      --vermelho: #ed6b67;
      --cinza: #ececec;
      --branco: #fff;
    }
    * { box-sizing: border-box; }
    body {
      font-family: 'Poppins', Arial, sans-serif;
      background: linear-gradient(135deg, var(--azul-claro) 0%, var(--bege) 100%);
      margin: 0;
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
    }
    h1 {
      margin-top: 22px; color: var(--azul); font-size: 2.1rem;
      letter-spacing: -1px;
      font-weight: 600;
      text-align: center;
    }
    #app {
      background: var(--branco); border-radius: 16px; box-shadow: 0 2px 18px #c6e6f7aa;
      padding: 30px 20px; margin-top: 18px; width: 96vw; max-width: 500px;
      display: flex; flex-direction: column; align-items: center;
      min-height: 320px;
    }
    .menu-btn {
      width: 100%; max-width: 340px; padding: 22px 0;
      background: var(--azul); color: #fff; border: none;
      border-radius: 12px; margin: 18px 0; font-size: 1.15rem;
      font-family: 'Poppins', Arial, sans-serif; font-weight: 600;
      cursor: pointer; transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 1px 5px #c6e6f7bb;
      letter-spacing: 0.5px;
    }
    .menu-btn:hover { background: #125e90; }
    .section-title {
      font-size: 1.3rem; color: var(--azul); font-weight: 600;
      margin-bottom: 10px; text-align: center;
    }
    .caso-box, .quiz-box, .banco-box {
      width: 100%; max-width: 410px; margin: 0 auto;
      display: flex; flex-direction: column; align-items: stretch;
      background: var(--cinza); border-radius: 12px; padding: 16px 15px;
    }
    .quiz-box { background: #e4f5ea; }
    .banco-box { background: #fcf6ec; }
    .caso-titulo { color: var(--azul); font-weight: 600; margin-bottom: 8px; }
    .caso-enunciado { margin-bottom: 10px; color: #444; }
    .caso-pergunta, .quiz-pergunta { margin-bottom: 14px; color: #222; font-weight: 600; }
    .alternativas, .quiz-alternativas {
      display: flex; flex-direction: column; gap: 9px; margin-bottom: 8px;
    }
    .alt-btn, .quiz-alt-btn {
      background: #fff; border: 2px solid var(--azul);
      border-radius: 10px; padding: 11px 7px;
      font-size: 1rem; font-family: inherit; cursor: pointer;
      transition: background 0.18s, border 0.18s;
      text-align: left;
    }
    .alt-btn.selected, .quiz-alt-btn.selected {
      border-color: var(--azul); background: #eaf3fb;
    }
    .alt-btn.certa, .quiz-alt-btn.certa {
      background: var(--verde); color: #fff; border-color: var(--verde);
      pointer-events: none;
    }
    .alt-btn.errada, .quiz-alt-btn.errada {
      background: var(--vermelho); color: #fff; border-color: var(--vermelho);
      pointer-events: none;
    }
    .feedback { margin: 10px 0 4px 0; font-weight: 600; }
    .feedback.ok { color: var(--verde);}
    .feedback.erro { color: var(--vermelho);}
    .caso-nav, .quiz-nav {
      display: flex; gap: 12px; justify-content: center;
      margin-top: 14px;
    }
    .nav-btn, .banco-voltar {
      background: var(--azul); color: #fff; border: none;
      border-radius: 7px; padding: 8px 18px;
      font-size: 1rem; font-family: inherit; cursor: pointer;
      transition: background 0.18s;
      margin-top: 4px;
    }
    .nav-btn:disabled { background: #8cb5ce; cursor: not-allowed; }
    .banco-qst {
      margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #eee;
    }
    .banco-pergunta { color: #333; font-weight: 600; margin-bottom: 3px;}
    .banco-resposta { color: #24694a; margin-bottom: 2px;}
    .placar {
      background: #d6f3f2; color: #147b7b; font-weight: 600;
      margin: 14px 0 0 0; border-radius: 8px; padding: 7px 0;
      text-align: center;
    }
    .voltar-btn {
      margin: 18px auto 0 auto; display: block;
      background: #aaa; color: #fff; border: none;
      border-radius: 8px; padding: 8px 25px;
      font-size: 1rem; font-family: inherit; cursor: pointer;
      transition: background 0.18s;
    }
    .voltar-btn:hover, .banco-voltar:hover { background: #636363; }
    @media (max-width: 520px) {
      #app { padding: 14px 2vw; }
      .caso-box, .quiz-box, .banco-box { padding: 9px 5px; }
    }
    ::selection { background: #cbeeff; }
  </style>
</head>
<body>
  <h1>SimulaMed</h1>
  <div id="app"></div>

<script>
const casos = [
  {
    titulo: "Dor Torácica em Idoso",
    enunciado: "Paciente masculino, 68 anos, hipertenso, relata dor precordial intensa há 35 minutos, associada a sudorese e náuseas. ECG: supradesnivelamento de ST em DII, DIII e aVF.",
    pergunta: "Qual o diagnóstico mais provável?",
    alternativas: [
      "Infarto agudo do miocárdio com supra de ST inferior",
      "Angina estável",
      "Pericardite aguda",
      "Embolia pulmonar"
    ],
    correta: 0,
    feedback: "Esse é um quadro típico de IAM com supra de ST em parede inferior (DII, DIII, aVF), sobretudo em idoso e com fatores de risco."
  },
  {
    titulo: "Febre e Tosse em Criança",
    enunciado: "Menino de 4 anos, febre alta, tosse produtiva, taquipneia e estertores crepitantes em base direita. SatO2: 94%.",
    pergunta: "Qual a conduta inicial?",
    alternativas: [
      "Antibiótico empírico e oxigenoterapia se necessário",
      "Expectante, apenas hidratação",
      "Broncodilatador inalatório",
      "Corticoterapia sistêmica"
    ],
    correta: 0,
    feedback: "Antibiótico imediato é indicado na suspeita de pneumonia bacteriana típica em criança, além de suporte com oxigenoterapia conforme a saturação."
  },
  {
    titulo: "Poliúria em Jovem",
    enunciado: "Adolescente, 16 anos, emagrecimento rápido, sede intensa e poliúria há 1 mês. Glicemia: 380 mg/dL.",
    pergunta: "O que esse quadro sugere?",
    alternativas: [
      "Diabetes mellitus tipo 1",
      "Diabetes insipidus",
      "Síndrome nefrótica",
      "Hipertireoidismo"
    ],
    correta: 0,
    feedback: "Poliúria, emagrecimento e hiperglicemia sugerem fortemente DM tipo 1 em jovem."
  },
  {
    titulo: "Dispneia Aguda Pós-Cirurgia",
    enunciado: "Mulher, 59 anos, pós-operatório de histerectomia há 4 dias, súbita dispneia e dor torácica. FC 112 bpm, SatO2: 88%.",
    pergunta: "Diagnóstico mais provável?",
    alternativas: [
      "Embolia pulmonar aguda",
      "Pneumotórax espontâneo",
      "Infarto agudo do miocárdio",
      "Asma aguda"
    ],
    correta: 0,
    feedback: "Cirurgia recente e sintomas sugerem fortemente embolia pulmonar."
  },
  {
    titulo: "Icterícia em Recém-nascido",
    enunciado: "RN de 3 dias, nascido a termo, apresenta icterícia progressiva. Mãe O-, bebê A+.",
    pergunta: "Principal hipótese diagnóstica?",
    alternativas: [
      "Incompatibilidade ABO",
      "Atresia de vias biliares",
      "Hepatite viral",
      "Sepse neonatal"
    ],
    correta: 0,
    feedback: "Incompatibilidade ABO é frequente em RN de mãe O e bebê A ou B, podendo causar icterícia precoce."
  },
  {
    titulo: "Cefaleia Súbita e Intensa",
    enunciado: "Homem, 41 anos, cefaleia intensa, súbita, 'pior da vida'. Sinais meníngeos positivos.",
    pergunta: "Qual exame solicitar imediatamente?",
    alternativas: [
      "Tomografia de crânio sem contraste",
      "Punção lombar",
      "Angioressonância cerebral",
      "Eletroencefalograma"
    ],
    correta: 0,
    feedback: "Suspeita de hemorragia subaracnoide: TC de crânio sem contraste deve ser o primeiro exame."
  },
  {
    titulo: "Hemorragia Digestiva Alta",
    enunciado: "Mulher, 50 anos, melena, PA 92/56 mmHg, FC 110 bpm, HGB 7,9 g/dL.",
    pergunta: "Conduta prioritária?",
    alternativas: [
      "Estabilizar via acesso venoso e reposição volêmica",
      "Endoscopia de urgência imediata",
      "Iniciar antibiótico empírico",
      "Propranolol oral"
    ],
    correta: 0,
    feedback: "Estabilização hemodinâmica é a prioridade em HDA grave antes de endoscopia."
  },
  {
    titulo: "Prurido e Lesões em Mãos",
    enunciado: "Mulher, 29 anos, prurido intenso nas mãos, principalmente à noite. Pequenas pápulas e lesões entre os dedos.",
    pergunta: "Hipótese mais provável:",
    alternativas: [
      "Escabiose (sarna)",
      "Dermatite atópica",
      "Psoríase",
      "Herpes simples"
    ],
    correta: 0,
    feedback: "Lesões interdigitais e prurido noturno são típicos de escabiose."
  },
  {
    titulo: "Dor em Fossa Ilíaca Direita",
    enunciado: "Homem, 25 anos, dor abdominal em fossa ilíaca direita, febre, náuseas, dor à descompressão brusca.",
    pergunta: "Qual o diagnóstico mais provável?",
    alternativas: [
      "Apendicite aguda",
      "Diverticulite aguda",
      "Colecistite aguda",
      "Gastrite"
    ],
    correta: 0,
    feedback: "Sinal de descompressão, localização e clínica sugerem apendicite aguda."
  },
  {
    titulo: "Infecção Urinária em Gestante",
    enunciado: "Gestante de 27 anos, disúria, polaciúria, sem febre. EAS: leucocitúria, bacteriúria.",
    pergunta: "Conduta adequada:",
    alternativas: [
      "Iniciar antibiótico seguro na gestação",
      "Observar apenas",
      "Solicitar TC de abdome",
      "Internação imediata"
    ],
    correta: 0,
    feedback: "ITUs em gestantes exigem tratamento antibiótico seguro devido ao risco de complicações."
  },
  {
    titulo: "Dor Lombar e Hematúria",
    enunciado: "Homem, 38 anos, dor lombar intensa, irradia para a virilha, hematúria macroscópica, sem febre.",
    pergunta: "Diagnóstico provável:",
    alternativas: [
      "Cólica renal por cálculo ureteral",
      "Infecção urinária",
      "Glomerulonefrite",
      "Pielonefrite aguda"
    ],
    correta: 0,
    feedback: "Dor lombar com irradiação e hematúria sugerem fortemente litíase renal."
  },
  {
    titulo: "Confusão Mental em Idoso",
    enunciado: "Idoso, 81 anos, confusão mental súbita, desatenção, sonolência. Infecção urinária em curso.",
    pergunta: "Qual a principal hipótese?",
    alternativas: [
      "Delirium secundário a infecção",
      "Demência de Alzheimer",
      "AVC isquêmico",
      "Síndrome depressiva"
    ],
    correta: 0,
    feedback: "Delirium é comum em idosos com infecções; início súbito é sugestivo."
  },
  {
    titulo: "Síncope em Jovem Atleta",
    enunciado: "Jovem, 18 anos, síncope durante exercício físico intenso, sem pródromos, recupera rápido.",
    pergunta: "O que deve ser prioritariamente investigado?",
    alternativas: [
      "Cardiomiopatia hipertrófica",
      "Anemia aguda",
      "Crise convulsiva",
      "Hipoglicemia"
    ],
    correta: 0,
    feedback: "Síncope em esforço sem pródromos em jovem sugere cardiopatia estrutural como a CMH."
  },
  {
    titulo: "Dor Óssea e Hipercalcemia",
    enunciado: "Mulher, 56 anos, queixa-se de dor óssea difusa, fraqueza e exames mostram hipercalcemia.",
    pergunta: "Qual diagnóstico considerar?",
    alternativas: [
      "Mieloma múltiplo",
      "Hipotireoidismo",
      "Osteomielite",
      "Artrite reumatoide"
    ],
    correta: 0,
    feedback: "Mieloma múltiplo cursa com dor óssea, fraqueza e hipercalcemia por reabsorção óssea."
  },
  {
    titulo: "Faringite Aguda Febril",
    enunciado: "Menina, 8 anos, febre, dor de garganta intensa, exsudato amigdaliano, adenomegalia cervical.",
    pergunta: "Qual etiologia mais provável?",
    alternativas: [
      "Estreptococo beta-hemolítico do grupo A",
      "Adenovírus",
      "Mononucleose infecciosa",
      "Parainfluenza"
    ],
    correta: 0,
    feedback: "Faringite exsudativa com febre em criança sugere infecção estreptocócica."
  }
];

const quizQuestoes = [
  {
    pergunta: "Qual dos sintomas abaixo NÃO faz parte da síndrome nefrótica?",
    alternativas: [
      "Edema",
      "Proteinúria",
      "Hipertensão arterial",
      "Hipoalbuminemia"
    ],
    correta: 2,
    explicacao: "A hipertensão pode estar presente, mas não é um critério diagnóstico clássico da síndrome nefrótica."
  },
  {
    pergunta: "Qual exame confirma tuberculose pulmonar ativa?",
    alternativas: [
      "Baciloscopia de escarro",
      "Raio-X de tórax",
      "Dosagem de PPD",
      "Gasometria arterial"
    ],
    correta: 0,
    explicacao: "A baciloscopia do escarro confirma TB pulmonar ativa ao demonstrar BAAR."
  },
  {
    pergunta: "Medicação de escolha na crise convulsiva prolongada:",
    alternativas: [
      "Diazepam EV",
      "Haloperidol",
      "Fluoxetina",
      "AAS"
    ],
    correta: 0,
    explicacao: "Benzodiazepínicos, como diazepam EV, são os fármacos de escolha para crises convulsivas agudas."
  },
  {
    pergunta: "Qual conduta imediata na anafilaxia?",
    alternativas: [
      "Adrenalina IM",
      "Corticoide oral",
      "Antibiótico EV",
      "Anti-histamínico VO"
    ],
    correta: 0,
    explicacao: "Adrenalina IM é a droga de escolha na anafilaxia."
  },
  {
    pergunta: "Achado clássico do ECG na hipercalemia:",
    alternativas: [
      "Onda T apiculada",
      "QRS alargado",
      "PR prolongado",
      "Onda U proeminente"
    ],
    correta: 0,
    explicacao: "Onda T apiculada é característica inicial na hipercalemia."
  },
  {
    pergunta: "Sintoma mais frequente na apendicite aguda:",
    alternativas: [
      "Dor periumbilical migrando para FID",
      "Náuseas isoladas",
      "Febre alta isolada",
      "Hematoquezia"
    ],
    correta: 0,
    explicacao: "A dor migratória é o sintoma mais típico da apendicite."
  },
  {
    pergunta: "Qual agente mais comum da pneumonia adquirida na comunidade em adultos?",
    alternativas: [
      "Streptococcus pneumoniae",
      "Klebsiella pneumoniae",
      "Haemophilus influenzae",
      "Legionella pneumophila"
    ],
    correta: 0,
    explicacao: "Streptococcus pneumoniae é o agente mais prevalente."
  },
  {
    pergunta: "Indicação de uso de trombolítico em AVC:",
    alternativas: [
      "AVC isquêmico nas primeiras 4,5 horas",
      "AVC hemorrágico",
      "Infarto agudo do miocárdio",
      "Qualquer AVC, independente do tempo"
    ],
    correta: 0,
    explicacao: "Trombolítico só está indicado em AVC isquêmico nas primeiras 4,5 horas."
  },
  {
    pergunta: "Sinal clássico da insuficiência cardíaca descompensada:",
    alternativas: [
      "Dispneia aos esforços",
      "Tontura postural",
      "Dor epigástrica",
      "Claudicação intermitente"
    ],
    correta: 0,
    explicacao: "Dispneia é sintoma predominante na IC descompensada."
  },
  {
    pergunta: "Principal causa de dor abdominal aguda em adultos jovens:",
    alternativas: [
      "Apendicite aguda",
      "Colecistite aguda",
      "Pancreatite aguda",
      "Úlcera perfurada"
    ],
    correta: 0,
    explicacao: "Apendicite é a principal causa cirúrgica em jovens."
  },
  {
    pergunta: "Qual o tratamento inicial da asma aguda leve?",
    alternativas: [
      "Beta2-agonista inalatório",
      "Corticoide sistêmico imediato",
      "Antibiótico de largo espectro",
      "Nebulização com adrenalina"
    ],
    correta: 0,
    explicacao: "Beta2-agonista inalatório (salbutamol) é o tratamento inicial de escolha."
  },
  {
    pergunta: "Situação clássica para uso de soro antiofídico:",
    alternativas: [
      "Mordida de jararaca com sinais sistêmicos",
      "Mordida de cachorro sem sintomas",
      "Picada de abelha",
      "Arranhadura de gato"
    ],
    correta: 0,
    explicacao: "Soro antiofídico é usado em acidentes por serpente com manifestações sistêmicas."
  }
];

const bancoQuestoes = [
  {
    pergunta: "Como identificar um infarto agudo do miocárdio no ECG?",
    resposta: "Elevação do segmento ST, inversão de onda T e/ou presença de ondas Q patológicas."
  },
  {
    pergunta: "Quando suspeitar de sepse?",
    resposta: "Presença de infecção com disfunção orgânica, sinais como hipotensão, taquicardia, taquipneia, lactato alto."
  },
  {
    pergunta: "Quais os sinais de meningite em crianças?",
    resposta: "Febre, irritabilidade, rigidez de nuca, vômitos, fontanela tensa (em lactentes)."
  },
  {
    pergunta: "Como tratar crise asmática moderada?",
    resposta: "Beta2-agonista inalatório, O2 se necessário, e corticoide sistêmico."
  },
  {
    pergunta: "Quais causas comuns de anemia ferropriva?",
    resposta: "Dietas pobres em ferro, perdas sanguíneas crônicas (GI), aumento de necessidades (gravidez)."
  },
  {
    pergunta: "Conduta inicial em politrauma?",
    resposta: "Seguir o ABCDE do trauma: via aérea, respiração, circulação, déficit neurológico, exposição."
  },
  {
    pergunta: "Como diagnosticar pneumonia em adultos?",
    resposta: "Clínica (tosse, febre, dor pleurítica, estertores) e RX de tórax mostrando infiltrado."
  },
  {
    pergunta: "Principais causas de insuficiência renal aguda pré-renal?",
    resposta: "Hipovolemia, choque, insuficiência cardíaca, vasodilatação excessiva."
  },
  {
    pergunta: "Quando indicar antibiótico em faringite?",
    resposta: "Faringite bacteriana (principalmente por Streptococcus pyogenes), com febre alta, exsudato, adenomegalia."
  },
  {
    pergunta: "Quais sintomas clássicos da insuficiência cardíaca?",
    resposta: "Dispneia, ortopneia, edema, fadiga, estertores crepitantes."
  },
  {
    pergunta: "Exame inicial para diagnóstico de litíase renal?",
    resposta: "Urina tipo I e USG de rins e vias urinárias."
  },
  {
    pergunta: "O que é delirium?",
    resposta: "Alteração aguda do estado mental, com confusão, flutuação da consciência, atenção prejudicada."
  },
  {
    pergunta: "Como avaliar desidratação em criança?",
    resposta: "Sinais: olhos fundos, diminuição da diurese, mucosas secas, prega cutânea."
  },
  {
    pergunta: "Quando suspeitar de dengue hemorrágica?",
    resposta: "Diminuição súbita de plaquetas, extravasamento capilar, sangramentos, dor abdominal intensa."
  },
  {
    pergunta: "Qual a conduta em crise convulsiva febril simples?",
    resposta: "Observar, controlar febre e orientar; não é necessário anticonvulsivante contínuo."
  }
];

// Estado global para navegação
let estado = { secao: "menu", caso: 0, quiz: 0, quizAcertos: 0, quizRespondidas: 0 };

// ---- Renderização de Telas ----
function render() {
  const app = document.getElementById("app");
  if (estado.secao === "menu") {
    app.innerHTML = `
      <div class="section-title" style="margin-bottom:24px;">Selecione uma opção:</div>
      <button class="menu-btn" onclick="mudaSecao('casos')">Estudo de Caso</button>
      <button class="menu-btn" onclick="mudaSecao('quiz')">Quiz Rápido</button>
      <button class="menu-btn" onclick="mudaSecao('banco')">Banco de Questões</button>
    `;
  } else if (estado.secao === "casos") {
    renderCaso();
  } else if (estado.secao === "quiz") {
    renderQuiz();
  } else if (estado.secao === "banco") {
    renderBanco();
  }
}
window.mudaSecao = function(secao) {
  if (secao === "casos") { estado.caso = 0; }
  if (secao === "quiz") { estado.quiz = 0; estado.quizAcertos = 0; estado.quizRespondidas = 0; }
  estado.secao = secao;
  render();
}

// -------- Estudo de Caso -----------
function renderCaso() {
  const c = casos[estado.caso];
  let html = `
    <div class="section-title">Estudo de Caso (${estado.caso+1}/${casos.length})</div>
    <div class="caso-box">
      <div class="caso-titulo">${c.titulo}</div>
      <div class="caso-enunciado">${c.enunciado}</div>
      <div class="caso-pergunta">${c.pergunta}</div>
      <div class="alternativas">
        ${c.alternativas.map((alt,i)=>`
          <button class="alt-btn" id="caso-alt-${i}" onclick="respondeCaso(${i})">${alt}</button>
        `).join('')}
      </div>
      <div id="caso-feedback"></div>
      <div class="caso-nav">
        <button class="nav-btn" onclick="casoAnterior()" ${estado.caso===0?'disabled':''}>Anterior</button>
        <button class="nav-btn" onclick="casoProximo()" ${estado.caso===casos.length-1?'disabled':''}>Próximo</button>
      </div>
    </div>
    <button class="voltar-btn" onclick="mudaSecao('menu')">Voltar ao menu</button>
  `;
  document.getElementById("app").innerHTML = html;
}
window.respondeCaso = function(i) {
  const c = casos[estado.caso];
  let btns = document.querySelectorAll('.alt-btn');
  btns.forEach((btn,ix)=>{
    btn.classList.remove('certa','errada','selected');
    if (ix === i) btn.classList.add(ix===c.correta ? 'certa':'errada');
    if (ix === c.correta) btn.classList.add('certa');
    btn.disabled = true;
  });
  const fb = document.getElementById('caso-feedback');
  if (i === c.correta) {
    fb.innerHTML = `<div class="feedback ok">Correto! <span style="font-weight:400">${c.feedback}</span></div>`;
  } else {
    fb.innerHTML = `<div class="feedback erro">Errado! <span style="font-weight:400">${c.feedback}</span></div>`;
  }
}
window.casoProximo = function() {
  if (estado.caso < casos.length-1) {
    estado.caso++;
    renderCaso();
  }
}
window.casoAnterior = function() {
  if (estado.caso > 0) {
    estado.caso--;
    renderCaso();
  }
}

// ----------- Quiz --------------
function renderQuiz() {
  if (estado.quiz >= quizQuestoes.length) {
    document.getElementById("app").innerHTML = `
      <div class="section-title">Quiz Rápido – Placar Final</div>
      <div class="quiz-box" style="align-items:center">
        <div style="font-size:1.7rem;font-weight:600;color:var(--azul);margin-bottom:14px;">${estado.quizAcertos} / ${quizQuestoes.length} acertos</div>
        <div class="placar">Fim do quiz!</div>
        <button class="nav-btn" onclick="mudaSecao('menu')">Voltar ao menu</button>
      </div>
    `;
    return;
  }
  const q = quizQuestoes[estado.quiz];
  let html = `
    <div class="section-title">Quiz Rápido (${estado.quiz+1}/${quizQuestoes.length})</div>
    <div class="quiz-box">
      <div class="quiz-pergunta">${q.pergunta}</div>
      <div class="quiz-alternativas">
        ${q.alternativas.map((alt,i)=>`
          <button class="quiz-alt-btn" id="quiz-alt-${i}" onclick="respondeQuiz(${i})">${alt}</button>
        `).join('')}
      </div>
      <div id="quiz-feedback"></div>
      <div class="placar">Placar: ${estado.quizAcertos} de ${estado.quizRespondidas} perguntas</div>
    </div>
    <button class="voltar-btn" onclick="mudaSecao('menu')">Voltar ao menu</button>
  `;
  document.getElementById("app").innerHTML = html;
}
window.respondeQuiz = function(i) {
  const q = quizQuestoes[estado.quiz];
  let btns = document.querySelectorAll('.quiz-alt-btn');
  btns.forEach((btn,ix)=>{
    btn.classList.remove('certa','errada','selected');
    if (ix === i) btn.classList.add(ix===q.correta ? 'certa':'errada');
    if (ix === q.correta) btn.classList.add('certa');
    btn.disabled = true;
  });
  const fb = document.getElementById('quiz-feedback');
  if (i === q.correta) {
    fb.innerHTML = `<div class="feedback ok">Correto! <span style="font-weight:400">${q.explicacao}</span></div>`;
    estado.quizAcertos++;
  } else {
    fb.innerHTML = `<div class="feedback erro">Errado! <span style="font-weight:400">${q.explicacao}</span></div>`;
  }
  estado.quizRespondidas++;
  setTimeout(()=>{
    estado.quiz++;
    renderQuiz();
  }, 1450);
}

// ---------- Banco de Questões --------------
function renderBanco() {
  document.getElementById("app").innerHTML = `
    <div class="section-title">Banco de Questões Abertas</div>
    <div class="banco-box">
      ${bancoQuestoes.map(q=>`
        <div class="banco-qst">
          <div class="banco-pergunta">Q: ${q.pergunta}</div>
          <div class="banco-resposta">R: ${q.resposta}</div>
        </div>
      `).join('')}
      <button class="banco-voltar" onclick="mudaSecao('menu')">Voltar ao menu</button>
    </div>
  `;
}

render();
</script>
</body>
</html>
